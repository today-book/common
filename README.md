# TodayBook Common Modules

## ğŸ“¦ ê³µí†µ ëª¨ë“ˆ ì†Œê°œ

TodayBook ì„œë¹„ìŠ¤ ì „ë°˜ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ë“±ì¥í•˜ëŠ” **ì—ëŸ¬ ì²˜ë¦¬, ë©”ì‹œì§€ ë²ˆì—­, ê³µí†µ ì‘ë‹µ í¬ë§·, MVC ì„¤ì •, ìœ í‹¸ë¦¬í‹° ê¸°ëŠ¥**ì„ í•˜ë‚˜ì˜ í”Œë«í¼ìœ¼ë¡œ í†µí•©í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ **ë©€í‹°ëª¨ë“ˆ ê¸°ë°˜ ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬**ì…ë‹ˆë‹¤.


# ğŸ¯ ëª©ì (Purpose)

- ì„œë¹„ìŠ¤ ì „ë°˜ì˜ **í‘œì¤€í™”ì™€ ì¼ê´€ì„±** í™•ë³´
- ë°˜ë³µë˜ëŠ” ì„¤ì • ë° ê³µí†µ ê¸°ëŠ¥ ì œê±° â†’ **ê°œë°œ ìƒì‚°ì„± í–¥ìƒ**
- ê³µí†µ ê¸°ëŠ¥ì„ ì¤‘ì•™ ê´€ë¦¬ â†’ **ë³€ê²½ ì˜í–¥ ìµœì†Œí™”**
- ì„œë¹„ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ë‚¨ë„ë¡ í•˜ëŠ” **ê´€ì‹¬ì‚¬ ë¶„ë¦¬(Separation of Concerns)**


# ğŸ—ï¸ ë©€í‹° ëª¨ë“ˆ êµ¬ì¡°(Multi-Module Architecture)

```
common/
  â”œâ”€â”€ common-core
  â”œâ”€â”€ common-mvc
  â””â”€â”€ common-util
```

## ë©€í‹°ëª¨ë“ˆ ë„ì… ì´ìœ 

1. ì—­í• ê³¼ ì±…ì„(Responsibility)ì˜ ëª…í™•í•œ ë¶„ë¦¬

- ë‹¨ì¼ ëª¨ë“ˆì—ì„œëŠ” MVC, ìœ í‹¸, ì—ëŸ¬ ê·œì¹™ì´ í˜¼ì¬ë˜ì–´ ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì´ ì–´ë ¤ì›€.
- ëª¨ë“ˆ ë¶„ë¦¬ë¥¼ í†µí•´ SRP(Single Responsibility Principle)ë¥¼ ì§€í‚¤ê³  ì±…ì„ì„ ëª…í™•íˆ ë¶„ë¦¬.

2. ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±° ë° ì„œë¹„ìŠ¤ ê²½ëŸ‰í™”

- MVC ê¸°ëŠ¥ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ë§Œ common-mvcë¥¼ ì˜ì¡´í•˜ë„ë¡ ì„¤ì •í•˜ì—¬
- ë°°ì¹˜ ì„œë¹„ìŠ¤, ë‚´ë¶€ ëª¨ë“ˆ, í…ŒìŠ¤íŠ¸ í™˜ê²½ ë“±ì—ì„œëŠ” core/utilë§Œ ê°€ì ¸ê°€ë„ë¡ ìµœì í™”.

3. ë³€ê²½ ì˜í–¥(Impact) ìµœì†Œí™”

- core ë³€ê²½ â†’ mvc/util ì˜í–¥ ì—†ìŒ
- mvc ë³€ê²½ â†’ core ì˜í–¥ ì—†ìŒ
- ì‘ì€ ìˆ˜ì •ì´ ì „ì²´ì— ì˜í–¥ ì£¼ì§€ ì•Šë„ë¡ ì„¤ê³„.

4. CI/CD ì†ë„ ë° ë¹Œë“œ íš¨ìœ¨ì„± ì¦ê°€

- Gradle ë©€í‹°ëª¨ë“ˆ ìºì‹± â†’ â€œë³€ê²½ëœ ëª¨ë“ˆë§Œ ë¹Œë“œâ€ ê°€ëŠ¥

5) ì„œë¹„ìŠ¤ í™•ì¥ì„±ì„ ê³ ë ¤í•œ ì„¤ê³„

- ì¶”í›„ common-webflux, common-kafka ë“± ìƒˆë¡œìš´ ê³µí†µ ëª¨ë“ˆ ì¶”ê°€ê°€ ìš©ì´í•œ êµ¬ì¡°.

# ğŸ“ ëª¨ë“ˆë³„ ìƒì„¸ ì„¤ëª…

## 1ï¸âƒ£ common-core

### ğŸ“Œ ì˜ë„ (Purpose)

> **ì „ì‚¬ ê³µí†µ ê·œì¹™ì„ ì •ì˜í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë ˆì´ì–´**

Spring, MVC ë“± í”„ë ˆì„ì›Œí¬ì— ì „í˜€ ì˜ì¡´í•˜ì§€ ì•Šê³   
TodayBook ì„œë¹„ìŠ¤ì—ì„œ ë°˜ë“œì‹œ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”  
**í‘œì¤€ ê·œê²©Â·ì—ëŸ¬ ëª¨ë¸Â·Value Object** ë“±ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

### âœ” ì£¼ìš” ê¸°ëŠ¥

- `AbstractServiceException` â€” HTTP ìƒíƒœ/ë©”ì‹œì§€/ì½”ë“œ ê¸°ë°˜ ì—ëŸ¬ ì¶”ìƒí™”
- ìˆœìˆ˜ Java ê¸°ë°˜ ëª¨ë¸, Value Object, ì¸í„°í˜ì´ìŠ¤ ì œê³µ

### âœ” ì„¤ê³„ ì² í•™

- í”„ë ˆì„ì›Œí¬ ë…ë¦½
- ê°€ì¥ ë‚®ì€ ë ˆë²¨ì˜ ëª¨ë“ˆ
- MVC/Util/ê° ë„ë©”ì¸ ì„œë¹„ìŠ¤ì—ì„œ ê³µí†µìœ¼ë¡œ ì°¸ì¡°

## 2ï¸âƒ£ common-mvc

### ğŸ“Œ ì˜ë„ (Purpose)

> **Spring MVC í™˜ê²½ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ê³µí†µ ê¸°ëŠ¥ì„ ìë™í™”**

Spring Boot ê¸°ë°˜ ì„œë¹„ìŠ¤ì—ì„œ ë°˜ë³µë˜ëŠ” ì„¤ì •ì„ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì„œë¹„ìŠ¤ ê°œë°œìê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

### âœ” ì£¼ìš” ê¸°ëŠ¥
- GlobalErrorCode - ì „ì‚¬ ê³µí†µ ì—ëŸ¬ ì½”ë“œ ì •ì˜
- Global Exception Handler ìë™ ë“±ë¡
- MessageResolver ë° i18n ë©”ì‹œì§€ ì²˜ë¦¬
- Spring Boot AutoConfiguration ì‚¬ìš©

### âœ” ì„¤ê³„ ì² í•™

- MVC ì„¤ì •ì„ ê³µí†µí™”í•˜ì—¬ ì¤‘ë³µ ì œê±°
- framework-specific ì„¤ì •ì€ ëª¨ë‘ mvc ëª¨ë“ˆì—ì„œ ì²˜ë¦¬
- serviceëŠ” Controller/Service ë¡œì§ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ í•¨

## 3ï¸âƒ£ common-util

### ğŸ“Œ ì˜ë„ (Purpose)

> **ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì¼ë°˜ ìœ í‹¸ ê¸°ëŠ¥ ì œê³µ**

í”„ë ˆì„ì›Œí¬ì™€ ë¬´ê´€í•œ ìˆœìˆ˜ Java ìœ í‹¸ë¦¬í‹° ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì„œë¹„ìŠ¤ë³„ ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í•©ë‹ˆë‹¤.

### âœ” ì£¼ìš” ê¸°ëŠ¥

- í˜„ì¬ ì—†ìŒ

### âœ” ì„¤ê³„ ì² í•™

- ìˆœìˆ˜ Java ì½”ë“œë§Œ ë°°ì¹˜
- core/mvc/ê° ì„œë¹„ìŠ¤ ì–´ë””ì„œë“  ì°¸ì¡° ê°€ëŠ¥
- ë²”ìš©ì ì´ê³  ì•ˆì •ì ì¸ ë¡œì§ ì œê³µ

# ğŸ’¡ ê²°ë¡  â€” ì „ì‚¬ í†µí•© ê³µí†µ í”Œë«í¼

TodayBook ê³µí†µ ëª¨ë“ˆì€ ë‹¤ìŒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤:

- ì „ì‚¬ ê¸°ìˆ  í‘œì¤€í™”
- ì„œë¹„ìŠ¤ ê°„ ì¼ê´€ì„± í™•ë³´
- ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì™€ í™˜ê²½ ì„¤ì •ì˜ ì™„ì „í•œ ë¶„ë¦¬
- ìœ ì§€ë³´ìˆ˜ íš¨ìœ¨ ê·¹ëŒ€í™”

# âš™ï¸ todaybook/common ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì • ê°€ì´ë“œ

ë³¸ ë¬¸ì„œëŠ” `todaybook/common` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Gradle ê¸°ë°˜ í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì • ë°©ë²•ì„ ì •ë¦¬í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.  
GitHub Packages ì €ì¥ì†Œë¥¼ í™œìš©í•˜ë¯€ë¡œ, í•„ìš”í•œ GitHub Token ë°œê¸‰ ë° gradle.properties ì„¤ì • ë°©ë²•ë„ í•¨ê»˜ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ğŸ§ª 1. Maven ì €ì¥ì†Œ ì¶”ê°€

í”„ë¡œì íŠ¸ì˜ `build.gradle` ë˜ëŠ” `build.gradle.kts`ì— ì•„ë˜ ì €ì¥ì†Œ(repository)ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

```groovy
repositories {
    mavenCentral()
    maven {
        name = "GitHubPublicPackages"
        url = uri("https://maven.pkg.github.com/today-book/common")
        credentials {
            username = project.findProperty("gpr.user") ?: System.getenv("GITHUB_ACTOR")
            password = project.findProperty("gpr.key") ?: System.getenv("GITHUB_TOKEN")
        }
    }
}
```

> ğŸ’¡ GitHub PackagesëŠ” ì¸ì¦ ì •ë³´ê°€ í•„ìš”í•˜ë¯€ë¡œ credentials ì„¤ì •ì´ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.

## ğŸ“š 2. ì˜ì¡´ì„± ì¶”ê°€

- `build.gradle` ì— ë‹¤ìŒê³¼ ê°™ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±ì„ ë“±ë¡í•˜ì„¸ìš”.
- ë‚´ ì„œë¹„ìŠ¤ì— í•„ìš”í•œ ì˜ì¡´ì„±ë§Œ ë“±ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```groovy
dependencies {
    implementation 'org.todaybook:common-core:{version}'
    implementation 'org.todaybook:common-util:{version}'
    implementation 'org.todaybook:common-mvc:{version}'
}
```

> ìµœì‹  ë²„ì „ì€ ì•„ë˜ GitHub Packages í˜ì´ì§€ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
> ğŸ‘‰ https://github.com/today-book/common/packages

## ğŸ” 3. gradle.properties ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `gradle.properties` íŒŒì¼ì„ ìƒì„±í•˜ê³ , GitHub ì¸ì¦ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```properties
gpr.user=ê¹ƒí—ˆë¸ŒID
gpr.key=ê¹ƒí—ˆë¸ŒTOKEN
```

ğŸ”‘ GitHub Token ë°œê¸‰ íŒ

- GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
- read:packages ê¶Œí•œë§Œ ìˆìœ¼ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.

## âœ… ë§ˆë¬´ë¦¬

ìœ„ì˜ ê³¼ì •ì„ ëª¨ë‘ ì™„ë£Œí•˜ë©´ todaybook/common ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì •ìƒì ìœ¼ë¡œ ê°€ì ¸ì™€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.